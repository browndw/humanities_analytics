<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.557">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Methods in Humanities Analytics - Python Packages for This Course</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../resources/data.html" rel="next">
<link href="../tutorials/using-colab.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../images/text_analysis.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Methods in Humanities Analytics</span>
    </a>
  </div>
        <div class="quarto-navbar-tools tools-end">
    <a href="https://github.com/browndw/humanities_analytics" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
</div>
          <div id="quarto-search" class="" title="Search"></div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../tutorials/using-colab.html">Course Resources</a></li><li class="breadcrumb-item"><a href="../resources/packages.html">Python Packages for This Course</a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Welcome</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Foundations</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../tutorials/sentiment-and-syuzhet.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Texts, Algorithms, and Black-Boxes</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../tutorials/corpus-basics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Corpus Basics: Tokenization and Processing Pipelines</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../tutorials/spacy-basics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">NLP Processing with spaCy</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../tutorials/frequency-and-distributions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Distributions</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Core Methods</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../tutorials/keyness.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Keyness</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../tutorials/collocations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Collocations and N-grams</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../tutorials/time-series.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Time Series Analysis</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../tutorials/topic-modeling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Topic Modeling</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
 <span class="menu-text">Advanced Analysis</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../tutorials/categorical-variables.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">ANOVA and R²: Comparing Groups and Explaining Variance</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../tutorials/cluster-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Clustering Methods</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../tutorials/correlations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Correlation and Multi-Collinearity</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../tutorials/multi-dimensional-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Multi-Dimensional Analysis</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../tutorials/contextual-embeddings.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Contextual Embeddings and Transformers</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
 <span class="menu-text">Applications</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../tutorials/classification-federalist-papers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Classification &amp; Authorship Attribution</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">
 <span class="menu-text">Reports</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reports/cbe_01.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Coffee Break Experiment #1: From Curiosity to Visualization</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reports/cbe_02.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Coffee Break Experiment #2: From Results to Research</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reports/cbe_03.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Coffee Break Experiment #3: Final Project Pilot Study</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reports/final-project.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Final Project: Independent Corpus Analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../reports/statistical-reporting-guide.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Statistical Reporting Guide</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true">
 <span class="menu-text">Course Resources</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../tutorials/using-colab.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Using Google Colab</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../resources/packages.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Python Packages for This Course</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../resources/data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Course Data Resources</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#core-packages" id="toc-core-packages" class="nav-link active" data-scroll-target="#core-packages">Core Packages</a>
  <ul class="collapse">
  <li><a href="#docuscospacy" id="toc-docuscospacy" class="nav-link" data-scroll-target="#docuscospacy">docuscospacy</a></li>
  <li><a href="#pybiber" id="toc-pybiber" class="nav-link" data-scroll-target="#pybiber">pybiber</a></li>
  <li><a href="#moodswing" id="toc-moodswing" class="nav-link" data-scroll-target="#moodswing">moodswing</a></li>
  <li><a href="#google_ngrams" id="toc-google_ngrams" class="nav-link" data-scroll-target="#google_ngrams">google_ngrams</a></li>
  </ul></li>
  <li><a href="#essential-dependencies" id="toc-essential-dependencies" class="nav-link" data-scroll-target="#essential-dependencies">Essential Dependencies</a>
  <ul class="collapse">
  <li><a href="#spacy" id="toc-spacy" class="nav-link" data-scroll-target="#spacy">spaCy</a></li>
  <li><a href="#polars" id="toc-polars" class="nav-link" data-scroll-target="#polars">Polars</a></li>
  </ul></li>
  <li><a href="#machine-learning-statistics" id="toc-machine-learning-statistics" class="nav-link" data-scroll-target="#machine-learning-statistics">Machine Learning &amp; Statistics</a>
  <ul class="collapse">
  <li><a href="#scikit-learn" id="toc-scikit-learn" class="nav-link" data-scroll-target="#scikit-learn">scikit-learn</a></li>
  <li><a href="#sentence-transformers" id="toc-sentence-transformers" class="nav-link" data-scroll-target="#sentence-transformers">sentence-transformers</a></li>
  <li><a href="#statsmodels" id="toc-statsmodels" class="nav-link" data-scroll-target="#statsmodels">statsmodels</a></li>
  <li><a href="#scipy" id="toc-scipy" class="nav-link" data-scroll-target="#scipy">scipy</a></li>
  </ul></li>
  <li><a href="#network-visualization" id="toc-network-visualization" class="nav-link" data-scroll-target="#network-visualization">Network &amp; Visualization</a>
  <ul class="collapse">
  <li><a href="#networkx" id="toc-networkx" class="nav-link" data-scroll-target="#networkx">networkx</a></li>
  <li><a href="#matplotlib" id="toc-matplotlib" class="nav-link" data-scroll-target="#matplotlib">matplotlib</a></li>
  <li><a href="#seaborn" id="toc-seaborn" class="nav-link" data-scroll-target="#seaborn">seaborn</a></li>
  <li><a href="#great_tables" id="toc-great_tables" class="nav-link" data-scroll-target="#great_tables">great_tables</a></li>
  </ul></li>
  <li><a href="#word-embeddings-optional" id="toc-word-embeddings-optional" class="nav-link" data-scroll-target="#word-embeddings-optional">Word Embeddings (Optional)</a>
  <ul class="collapse">
  <li><a href="#gensim" id="toc-gensim" class="nav-link" data-scroll-target="#gensim">gensim</a></li>
  </ul></li>
  <li><a href="#learning-path" id="toc-learning-path" class="nav-link" data-scroll-target="#learning-path">Learning Path</a></li>
  <li><a href="#getting-help" id="toc-getting-help" class="nav-link" data-scroll-target="#getting-help">Getting Help</a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/browndw/humanities_analytics/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../tutorials/using-colab.html">Course Resources</a></li><li class="breadcrumb-item"><a href="../resources/packages.html">Python Packages for This Course</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">Python Packages for This Course</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>This course leverages several specialized Python packages designed for humanities text analysis. These tools have been developed specifically for computational work in linguistics, literary studies, and digital humanities research.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Installation in Colab
</div>
</div>
<div class="callout-body-container callout-body">
<p>All mini labs include installation instructions at the beginning. When using Google Colab, you’ll install packages using:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>pip install package_name</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<section id="core-packages" class="level2">
<h2 class="anchored" data-anchor-id="core-packages">Core Packages</h2>
<section id="docuscospacy" class="level3">
<h3 class="anchored" data-anchor-id="docuscospacy">docuscospacy</h3>
<p><strong>Purpose:</strong> Rhetorical and functional text analysis using DocuScope categories</p>
<p><strong>What it does:</strong><br>
<code>docuscospacy</code> provides automated tagging of texts using the DocuScope dictionary, a comprehensive taxonomy of rhetorical and functional categories developed by David Kaufer and Suguru Ishizaki. The package includes a specially-trained spaCy model that tags text for both part-of-speech and rhetorical categories.</p>
<p><strong>Key features:</strong></p>
<ul>
<li>67 million+ pattern dictionary covering rhetorical moves, speech acts, and functional language</li>
<li>Pre-trained spaCy model (<code>en_docusco_spacy</code>) with CLAWS7 tagset</li>
<li>High-performance processing with Polars DataFrames</li>
<li>Built-in corpus analysis functions (frequencies, keyness, collocations)</li>
<li>Integration with topic modeling and visualization tools</li>
</ul>
<p><strong>Example use cases:</strong></p>
<ul>
<li>Analyzing persuasive strategies in political speeches</li>
<li>Comparing formality levels across academic disciplines</li>
<li>Identifying stance markers in student writing</li>
<li>Tracking rhetorical patterns in literary genres</li>
</ul>
<p><strong>Documentation:</strong> <a href="https://docuscospacy.readthedocs.org">docuscospacy.readthedocs.org</a><br>
<strong>GitHub:</strong> <a href="https://github.com/browndw/docuscospacy">github.com/browndw/docuscospacy</a><br>
<strong>Interactive Demo:</strong> <a href="https://docuscope-ca.eberly.cmu.edu/">docuscope-ca.eberly.cmu.edu</a></p>
<p><strong>Installation:</strong></p>
<div class="sourceCode" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Install the package</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>pip install docuscospacy</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Install the pre-trained model</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>pip install <span class="st">"en_docusco_spacy @ https://huggingface.co/browndw/en_docusco_spacy/resolve/main/en_docusco_spacy-1.5-py3-none-any.whl"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<hr>
</section>
<section id="pybiber" class="level3">
<h3 class="anchored" data-anchor-id="pybiber">pybiber</h3>
<p><strong>Purpose:</strong> Multi-Dimensional Analysis (MDA) of text registers and genres</p>
<p><strong>What it does:</strong><br>
<code>pybiber</code> implements Douglas Biber’s influential methodology for analyzing linguistic variation across text types. It automatically extracts 67 lexicogrammatical features (tense markers, pronouns, subordination, modals, etc.) and performs factor analysis to identify underlying dimensions of variation.</p>
<p><strong>Key features:</strong></p>
<ul>
<li>Automated extraction of 67 linguistic features from Biber (1988)</li>
<li>Full implementation of Multi-Dimensional Analysis methodology</li>
<li>Principal Component Analysis (PCA) as alternative to MDA</li>
<li>Built-in visualization tools (scree plots, dimension plots, biplots)</li>
<li>High-performance processing with spaCy and Polars</li>
<li>Support for custom corpora and comparative analysis</li>
</ul>
<p><strong>Example use cases:</strong></p>
<ul>
<li>Comparing academic writing across disciplines</li>
<li>Analyzing register variation in social media</li>
<li>Tracking language change over time</li>
<li>Classifying text genres based on linguistic features</li>
<li>Studying differences between spoken and written language</li>
</ul>
<p><strong>Documentation:</strong> <a href="https://browndw.github.io/pybiber">browndw.github.io/pybiber</a><br>
<strong>GitHub:</strong> <a href="https://github.com/browndw/pybiber">github.com/browndw/pybiber</a><br>
<strong>Related:</strong> See <a href="https://cran.r-project.org/web/packages/pseudobibeR/index.html">pseudobibeR</a> for R implementation</p>
<p><strong>Installation:</strong></p>
<div class="sourceCode" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>pip install pybiber</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>python <span class="op">-</span>m spacy download en_core_web_sm</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<hr>
</section>
<section id="moodswing" class="level3">
<h3 class="anchored" data-anchor-id="moodswing">moodswing</h3>
<p><strong>Purpose:</strong> Sentiment trajectory analysis for narrative texts</p>
<p><strong>What it does:</strong><br>
Inspired by Matthew Jockers’ <code>syuzhet</code> R package, <code>moodswing</code> tracks emotional arcs over the course of narratives. It provides both dictionary-based and neural approaches to sentiment analysis, with specialized tools for smoothing and visualizing sentiment trajectories.</p>
<p><strong>Key features:</strong></p>
<ul>
<li>Four proven sentiment lexicons (Syuzhet, AFINN, Bing, NRC)</li>
<li>Dictionary-based and spaCy-based sentiment scoring</li>
<li>DCT (Discrete Cosine Transform) smoothing for narrative structure</li>
<li>Rolling window smoothing options</li>
<li>Publication-ready visualization tools</li>
<li>Support for multi-language analysis (via NRC lexicon)</li>
</ul>
<p><strong>Example use cases:</strong></p>
<ul>
<li>Visualizing emotional arcs in novels and memoirs</li>
<li>Comparing narrative structures across genres</li>
<li>Analyzing sentiment patterns in social media narratives</li>
<li>Studying emotional progression in political speeches</li>
<li>Identifying plot structure through sentiment</li>
</ul>
<p><strong>Documentation:</strong> <a href="https://browndw.github.io/moodswing">browndw.github.io/moodswing</a><br>
<strong>GitHub:</strong> <a href="https://github.com/browndw/moodswing">github.com/browndw/moodswing</a></p>
<p><strong>Installation:</strong></p>
<div class="sourceCode" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>pip install moodswing</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Optional: for spaCy support</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>python <span class="op">-</span>m spacy download en_core_web_sm</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<hr>
</section>
<section id="google_ngrams" class="level3">
<h3 class="anchored" data-anchor-id="google_ngrams">google_ngrams</h3>
<p><strong>Purpose:</strong> Diachronic analysis using Google Books Ngram data</p>
<p><strong>What it does:</strong><br>
<code>google_ngrams</code> provides tools for downloading, processing, and analyzing the Google Books Ngram dataset, enabling large-scale studies of language change over centuries. It includes functions for smoothing, clustering, and visualizing temporal trends.</p>
<p><strong>Key features:</strong></p>
<ul>
<li>Direct access to Google Books Ngram data (1500-2019)</li>
<li>Multiple corpus options (English, Spanish, German, French, etc.)</li>
<li>Time-series analysis and visualization</li>
<li>Clustering algorithms for grouping similar trajectories</li>
<li>Statistical smoothing functions</li>
<li>Export capabilities for further analysis</li>
</ul>
<p><strong>Example use cases:</strong></p>
<ul>
<li>Tracking word frequency changes over centuries</li>
<li>Comparing usage patterns across historical periods</li>
<li>Identifying semantic shifts in vocabulary</li>
<li>Analyzing the rise and fall of cultural concepts</li>
<li>Studying historical discourse patterns</li>
</ul>
<p><strong>Documentation:</strong> <a href="https://browndw.github.io/google_ngrams">browndw.github.io/google_ngrams</a> (coming soon)<br>
<strong>GitHub:</strong> <a href="https://github.com/browndw/google_ngrams">github.com/browndw/google_ngrams</a></p>
<p><strong>Installation:</strong></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>pip install google<span class="op">-</span>ngrams</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<hr>
</section>
</section>
<section id="essential-dependencies" class="level2">
<h2 class="anchored" data-anchor-id="essential-dependencies">Essential Dependencies</h2>
<p>These packages rely on several widely-used Python libraries that you should be familiar with:</p>
<section id="spacy" class="level3">
<h3 class="anchored" data-anchor-id="spacy">spaCy</h3>
<p><strong>Purpose:</strong> Industrial-strength Natural Language Processing<br>
<strong>Website:</strong> <a href="https://spacy.io">spacy.io</a><br>
<strong>Use in course:</strong> Part-of-speech tagging, dependency parsing, named entity recognition<br>
<strong>Installation:</strong> <code>pip install spacy</code> + <code>python -m spacy download en_core_web_sm</code></p>
</section>
<section id="polars" class="level3">
<h3 class="anchored" data-anchor-id="polars">Polars</h3>
<p><strong>Purpose:</strong> Fast DataFrame library (similar to pandas but faster)<br>
<strong>Website:</strong> <a href="https://pola.rs">pola.rs</a><br>
<strong>Use in course:</strong> Data manipulation, corpus processing, feature extraction<br>
<strong>Installation:</strong> <code>pip install polars</code></p>
<hr>
</section>
</section>
<section id="machine-learning-statistics" class="level2">
<h2 class="anchored" data-anchor-id="machine-learning-statistics">Machine Learning &amp; Statistics</h2>
<section id="scikit-learn" class="level3">
<h3 class="anchored" data-anchor-id="scikit-learn">scikit-learn</h3>
<p><strong>Purpose:</strong> Machine learning and statistical modeling<br>
<strong>Website:</strong> <a href="https://scikit-learn.org">scikit-learn.org</a></p>
<p><strong>What it does:</strong><br>
Python’s most popular machine learning library, providing tools for classification, clustering, dimensionality reduction, and model evaluation.</p>
<p><strong>Use in course:</strong> - <strong>Classification</strong> (Mini Lab 12, Classification tutorial): Random Forest classifiers, train/test splits, accuracy metrics - <strong>Clustering</strong> (Cluster Analysis tutorial): K-means clustering, hierarchical clustering, silhouette scores - <strong>Dimensionality reduction</strong> (Contextual Embeddings, Cluster Analysis): PCA for visualization, TruncatedSVD for topic modeling - <strong>Text vectorization</strong>: TF-IDF vectorization for document similarity - <strong>Model evaluation</strong>: Confusion matrices, classification reports, cross-validation</p>
<p><strong>Key modules used:</strong> - <code>sklearn.ensemble.RandomForestClassifier</code> - Classification - <code>sklearn.cluster.KMeans</code> - K-means clustering - <code>sklearn.decomposition.PCA</code> - Principal Component Analysis - <code>sklearn.model_selection.train_test_split</code> - Data splitting - <code>sklearn.metrics</code> - Accuracy, precision, recall, F1-score</p>
<p><strong>Installation:</strong> <code>pip install scikit-learn</code></p>
</section>
<section id="sentence-transformers" class="level3">
<h3 class="anchored" data-anchor-id="sentence-transformers">sentence-transformers</h3>
<p><strong>Purpose:</strong> State-of-the-art sentence and document embeddings<br>
<strong>Website:</strong> <a href="https://www.sbert.net">sbert.net</a></p>
<p><strong>What it does:</strong><br>
Provides pre-trained models for generating semantic embeddings of sentences and documents. Built on transformer models like BERT, these embeddings capture meaning and enable semantic similarity comparisons.</p>
<p><strong>Use in course:</strong> - <strong>Contextual embeddings</strong> (Contextual Embeddings tutorial): Generating sentence embeddings with <code>all-MiniLM-L6-v2</code> - <strong>Semantic similarity</strong>: Finding similar documents based on meaning - <strong>Clustering</strong>: Grouping texts by semantic content - <strong>Classification</strong>: Using embeddings as features for genre prediction</p>
<p><strong>Example models:</strong> - <code>all-MiniLM-L6-v2</code> - Fast, lightweight, good for most tasks - <code>paraphrase-MiniLM-L6-v2</code> - Optimized for paraphrase detection</p>
<p><strong>Installation:</strong> <code>pip install sentence-transformers</code></p>
</section>
<section id="statsmodels" class="level3">
<h3 class="anchored" data-anchor-id="statsmodels">statsmodels</h3>
<p><strong>Purpose:</strong> Statistical modeling and hypothesis testing<br>
<strong>Website:</strong> <a href="https://www.statsmodels.org">statsmodels.org</a></p>
<p><strong>What it does:</strong><br>
Provides statistical tests, regression models, and diagnostic tools for rigorous statistical analysis.</p>
<p><strong>Use in course:</strong> - <strong>VIF (Variance Inflation Factor)</strong>: Testing for multicollinearity in regression (Correlation tutorial) - <strong>Time series analysis</strong>: ARIMA models, trend detection (Time Series tutorial) - <strong>ANOVA</strong>: Testing group differences (ANOVA tutorial) - <strong>Regression diagnostics</strong>: Checking model assumptions</p>
<p><strong>Installation:</strong> <code>pip install statsmodels</code></p>
</section>
<section id="scipy" class="level3">
<h3 class="anchored" data-anchor-id="scipy">scipy</h3>
<p><strong>Purpose:</strong> Scientific computing and statistical functions<br>
<strong>Website:</strong> <a href="https://scipy.org">scipy.org</a></p>
<p><strong>What it does:</strong><br>
Core library for scientific computing, providing statistical tests, optimization, and hierarchical clustering.</p>
<p><strong>Use in course:</strong> - <strong>Hierarchical clustering</strong> (Cluster Analysis tutorial): <code>scipy.cluster.hierarchy</code> for dendrograms, linkage methods - <strong>Statistical tests</strong>: T-tests, chi-square, correlation tests - <strong>Distance metrics</strong>: Cosine distance, Euclidean distance for clustering</p>
<p><strong>Installation:</strong> <code>pip install scipy</code></p>
<hr>
</section>
</section>
<section id="network-visualization" class="level2">
<h2 class="anchored" data-anchor-id="network-visualization">Network &amp; Visualization</h2>
<section id="networkx" class="level3">
<h3 class="anchored" data-anchor-id="networkx">networkx</h3>
<p><strong>Purpose:</strong> Network analysis and graph visualization<br>
<strong>Website:</strong> <a href="https://networkx.org">networkx.org</a></p>
<p><strong>What it does:</strong><br>
Creates and analyzes network structures, useful for visualizing relationships between linguistic features or texts.</p>
<p><strong>Use in course:</strong> - <strong>Correlation networks</strong> (Correlation tutorial): Visualizing feature correlations as network graphs - <strong>Word co-occurrence networks</strong>: Showing which words appear together - <strong>Document similarity networks</strong>: Connecting similar texts</p>
<p><strong>Installation:</strong> <code>pip install networkx</code></p>
</section>
<section id="matplotlib" class="level3">
<h3 class="anchored" data-anchor-id="matplotlib">matplotlib</h3>
<p><strong>Purpose:</strong> Fundamental plotting and visualization<br>
<strong>Website:</strong> <a href="https://matplotlib.org">matplotlib.org</a><br>
<strong>Use in course:</strong> Creating charts, graphs, and visualizations<br>
<strong>Installation:</strong> <code>pip install matplotlib</code></p>
</section>
<section id="seaborn" class="level3">
<h3 class="anchored" data-anchor-id="seaborn">seaborn</h3>
<p><strong>Purpose:</strong> Statistical data visualization (built on matplotlib)<br>
<strong>Website:</strong> <a href="https://seaborn.pydata.org">seaborn.pydata.org</a><br>
<strong>Use in course:</strong> Heatmaps, boxplots, distribution plots, styled figures<br>
<strong>Installation:</strong> <code>pip install seaborn</code></p>
</section>
<section id="great_tables" class="level3">
<h3 class="anchored" data-anchor-id="great_tables">great_tables</h3>
<p><strong>Purpose:</strong> Publication-quality table formatting<br>
<strong>Website:</strong> <a href="https://posit-dev.github.io/great_tables">posit-dev.github.io/great_tables</a><br>
<strong>Use in course:</strong> Formatting results for reports and papers, LaTeX export<br>
<strong>Installation:</strong> <code>pip install great_tables</code></p>
<hr>
</section>
</section>
<section id="word-embeddings-optional" class="level2">
<h2 class="anchored" data-anchor-id="word-embeddings-optional">Word Embeddings (Optional)</h2>
<section id="gensim" class="level3">
<h3 class="anchored" data-anchor-id="gensim">gensim</h3>
<p><strong>Purpose:</strong> Topic modeling and word embeddings<br>
<strong>Website:</strong> <a href="https://radimrehurek.com/gensim">radimrehurek.com/gensim</a></p>
<p><strong>What it does:</strong><br>
Provides implementations of word2vec, doc2vec, and other embedding algorithms for learning word representations from text.</p>
<p><strong>Use in course:</strong> - <strong>Word2Vec</strong> (Mini Lab 9): Training word embeddings on custom corpora - <strong>Semantic similarity</strong>: Finding words with similar meanings - <strong>Analogies</strong>: Exploring semantic relationships (king - man + woman ≈ queen)</p>
<p><strong>Installation:</strong> <code>pip install gensim</code></p>
<p><strong>Note:</strong> While covered in Mini Lab 9, most semantic tasks in tutorials use <code>sentence-transformers</code> instead, which provides pre-trained models without requiring corpus-specific training.</p>
<hr>
</section>
</section>
<section id="learning-path" class="level2">
<h2 class="anchored" data-anchor-id="learning-path">Learning Path</h2>
<p><strong>Weeks 1-3:</strong> Core Text Processing</p>
<ul>
<li><code>spaCy</code> + <code>docuscospacy</code>: Basic NLP and rhetorical analysis</li>
<li><code>polars</code>: Data manipulation</li>
<li><code>matplotlib</code> + <code>seaborn</code>: Visualization basics</li>
<li>Learn frequency analysis, keyness, collocations</li>
</ul>
<p><strong>Weeks 4-6:</strong> Sentiment &amp; Register Analysis</p>
<ul>
<li><code>moodswing</code>: Sentiment trajectories and narrative arcs</li>
<li><code>pybiber</code>: Multi-dimensional analysis of registers</li>
<li><code>scipy</code>: Statistical tests (t-tests, ANOVA)</li>
<li><code>statsmodels</code>: Correlation, VIF, regression diagnostics</li>
</ul>
<p><strong>Weeks 7-9:</strong> Advanced Methods</p>
<ul>
<li><code>scikit-learn</code>: Classification, clustering, PCA</li>
<li><code>sentence-transformers</code>: Contextual embeddings</li>
<li><code>networkx</code>: Network visualization</li>
<li><code>great_tables</code>: Professional reporting</li>
</ul>
<p><strong>Weeks 10-12:</strong> Integration &amp; Projects</p>
<ul>
<li>Combine multiple methods for robust analysis</li>
<li>Optional: <code>gensim</code> for custom word2vec models</li>
<li>Optional: <code>google_ngrams</code> for diachronic studies</li>
<li>Apply full toolkit to final projects</li>
</ul>
<hr>
</section>
<section id="getting-help" class="level2">
<h2 class="anchored" data-anchor-id="getting-help">Getting Help</h2>
<p>Each package has comprehensive documentation with tutorials, API references, and examples. If you encounter issues:</p>
<ol type="1">
<li><strong>Check the documentation</strong> - Most questions are answered there</li>
<li><strong>Review mini labs</strong> - See working examples of each package</li>
<li><strong>Consult the tutorials</strong> - Conceptual background on methods</li>
<li><strong>Ask questions</strong> - Use course discussion boards or office hours</li>
<li><strong>GitHub Issues</strong> - Report bugs or request features on GitHub</li>
</ol>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Pro Tip: Version Management
</div>
</div>
<div class="callout-body-container callout-body">
<p>When reporting issues or asking for help, always include: - Package version (e.g., <code>docuscospacy==0.3.0</code>) - Python version - Error messages (if any) - Minimal code example that reproduces the problem</p>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../tutorials/using-colab.html" class="pagination-link" aria-label="Using Google Colab">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Using Google Colab</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../resources/data.html" class="pagination-link" aria-label="Course Data Resources">
        <span class="nav-page-text">Course Data Resources</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/browndw/humanities_analytics/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li></ul></div></div></div></footer></body></html>